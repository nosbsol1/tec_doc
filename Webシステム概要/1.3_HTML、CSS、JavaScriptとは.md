

## Html、Css、Javascript
ブラウザが画面を描画する際は、上で言及した**Html**に加え、**Css**・**Javascript**というものが利用されます。  

以下それぞれの概要を説明します。  

### Htmlとは
前述の通り、ブラウザにウェブサイトの構成を伝えるための言語です。  
（このような視覚表現や構造を表現する言語をマークアップ言語といいます。）  

#### Htmlの構文  
Htmlは、`<`と`>`で囲まれた**タグ**を組み合わせて記述します。  
例えば以下のように記述します。  

```
<h1>見出しです</h1>
```


左の`<>`で囲まれた部分が**開始タグ**、右の`</>`が**終了タグ**と呼ばれます。  
`<>`の中に書かれている`h1`は、そのタグが何であるかを表し、**要素名**と呼ばれます。  
（タグ名と呼ばれることもあります。）  
タグに囲まれた部分は**要素内容**と呼ばれます。  
このように開始タグ～終了タグまでのまとまりを**要素**といいます。  

図  

要素名にはそれぞれ意味があり、前述した仕様で[定義](https://html.spec.whatwg.org/#semantics)されています。  

例えば`h1`は、見出しとしてタグで囲まれた部分の文字列を強調表示する、という意味があります。  
ブラウザはこのタグを表示する際、要素内容を強調表示します。  

図  

他の例として、外部へのリンクを表示する場合は`a`というタグを利用します。  
この場合、ブラウザはクリックすると指定したURLへ遷移するリンクを表示します。  

`<a href='http://google.com'>外部リンクはこちら</a>`  

図  

ここで、`a`というタグ名の横に`href`というものが記載されています。  
これは**属性**とよばれ、タグに情報を付加する為に利用されます。  
`href`はリンクがクリックされた場合の遷移先URLを記載します。  

属性の種類も仕様で定義されており、タグ毎に共通の属性と、特定のタグで使われる属性があります。  

まとめると以下になります。  

図  

要素は改行して記述する事も可能です。  
```
<h1>
  見出しです
</h1>
```

#### HTMLの構造
htmlは要素を組合せて記述されます。  
要素は並べて記載することも入れ子にする事も可能です。  

例
```
<html>
  <head>
    <title>タイトルです</title>
  </head>
  <body>
    <h1>見出しです</h1>
  </body>
<html>

```

これは、以下のような木構造になっています。  
図  
ツリー構造の図  

ある要素（タグ）から見て、外側の要素を**親要素**、内側の要素を**子要素**といいます。  
同じ階層の者は**兄弟要素**といいます。  

図  

特定の親要素の中に配置できない要素などがあります。  

#### WebサイトのHTMLの表示
ブラウザでWebサイトを開き、右クリック→ソースを表示 を選択すると、そのサイトのhtmlを見ることが出来ます。  
自分が普段見ているサイトのHTMLを見て勉強してみるのもいいかも知れません。  

図  
yahooとかの図  


HTMLについての詳しい説明は、別記事で行う予定です。  


### Css、Javascript 

画面描画の為にブラウザが使用するものとして、html以外に**Css**、**Javascript** と呼ばれるものがあります。  
これらはhtmlとは別の仕様(言語)であり、異なる文法で記述されます。  

ただしお互いに関連は深く、Htmlの特定の箇所に直接CssやJavascriptを記載することが可能です。  
（Htmlとはのファイルとして定義することも可能です。記述場所については後ほど詳しく説明します。）  

### Cssとは  
HTMLの要素をどのように表示するかを指示するものです。  
幅・高さ・色など、見た目のデザインに関する情報を指定できます。

Cssは以下のように記載します。  

例  
```
<h1 style="background-color:blue;">見出しです</h1>
```  

この例ではHtmlのstyle属性にcssを設定しており、背景色を青にするように指定しています。(Cssの記述場所は後ほど説明します)  

上記のHtmlは以下のように描画されます。  
<h1 style="background-color:blue;">見出しです</h1>
  
他にも、例えば以下のような定義が可能です。

・width、height  
幅、高さを指定します。  
例  
`width:120px;height:120px;`  




#### CSSの構文
cssの構文は以下になります。  
`プロパティ名: プロパティ値;`  

複数ある場合は続けて記述します。  
例  
```
background-color:blue;color:white;width:120px;height:120px;
```

#### CSSの仕様  
Cssの仕様(background-colorは背景色を表す、などのルール)はW3Cという団体によって[策定](https://www.w3.org/Style/CSS/specs.en.html)されています。 


#### CSSの適用方法
cssの適用方法は3つあります。  

##### タグの`style`属性に直接指定する  
Htmlの全てのタグには`style`という属性を指定でき、そこにcssを指定できます。  

例  
```
<h1 style="backgroundcolor:red;">見出しです</h1>
```  


##### `<style>`タグの内部に記載する  
htmlの`<style>`タグ内に記載します。  
例  
```
<style>

h1 {
  background-color: blue;
}

</style>

～～略～～

<h1>見出しです。</h1>
```

この場合、**セレクタ**と呼ばれる、どのタグにスタイルを適用するかを指定します。  
```
セレクタ {
  CSSの定義
}
```

##### 外部ファイルに記載し、`<link>`タグで読み込む  
htmlとはファイルにcssを定義し、httpでアクセス出来る場所に配置しておきます。  
htmlの`<link>`タグの`href`属性でそのファイルのURLを指定すると、ブラウザがそのファイルを読み込み、セレクタにマッチする属性に適用してくれます。  

・外部CSS
mycss.css
```
h1 {
  background-color: blue;
}

button {
  color: red;
}
```

・HTML
```
<link href="http://～～/mycss.css" rel="stylesheet"/>

～

<h1>見出しです。</h1>
```


直接記述する方法だと記述箇所が増えた際に管理が大変になるため、外部ファイルとして定義する事も多いです。  
②、③の方法で記載する場合は、***セレクタ***という、どの要素にどの定義を適用するかという情報を記載します。  

セレクタ含めたCssの詳しい仕様については別の記事で解説します。  


### Javascriptとは
Webサイトのふるまいを定義する為のプログラミング言語です。  
例えば、あるボタンが押された際にある処理を行う、などの処理を記述します。  


例  
```


```

ちなみに、[Java](https://www.java.com/ja/download/help/whatis_java.html)とは全く関係のない別の言語です。  
（名前にjavaとついていて構文も似ていますが全くの別物です。）  



#### Javascriptの構文  
Javascriptの基本的な文法や機能については、以下のサイトが参考下さい。  
[JavaScript Primer](https://jsprimer.net/)


### Javascriptが実行される環境  
Webサーバーからのレスポンスに含まれるJavascriptは、ブラウザ上で実行されます。   

サーバー側はJavascriptの文字列を返却しているだけです。  
主要なブラウザはJavascriptの実行エンジンを持っており、サーバーから返却されたjavascriptの文字列を解析して実行します。  

図  

また、Javascirptが実行された結果（上の例の背景色の変更など）は、そのブラウザのみで起こっていることです。  
他のクライアントのブラウザに影響しません。  

図


図  
複数クライアントにjavascriptが返されてる図  


### Javascriptの呼び出し方法  
javascriptはHtml要素の**イベント**発生時に呼び出される事が多いです。  
イベントとは、ある要素に対して行った動作や、起きた出来事の事です。  
(クリックされた、キーが押された、要素が読み込まれた　など)

各イベントが発生した際に指定したJavascriptを実行できます。  
実行する処理を登録する仕組みを**イベントハンドラ**と呼びます。 

イベントハンドラはイベント毎に用意されています。  
例えばクリックされた際のイベントには`onclick`というイベントハンドラが用意されています。  

イベントハンドラはHTML要素の属性として以下のように記述します。  
`<tag イベント属性名="Javascriptのコード"`

以下はボタンを実行すると画面上に「サンプルです。」と表示したい場合のコードです。  

```
<script>
  function myOnClick(){
    alert("サンプルです。")
  }
</script>

<button onClick="myOnClick">クリック</button>
```

この例を描画すると以下になります。  
<div>
<script>
  function myOnClick(){
    alert("サンプルです。")
  }
</script>

<button onClick="myOnClick">クリック</button>

</div>

その他にも様々な属性があります。  

- onkeypress  
要素がフォーカスされている時にキーボードのキーが押された際に実行される。   

- ondblclick   
要素がダブルクリックした際に実行される。    


詳しくは以下のサイトを参照ください。  
[イベントへの入門](https://developer.mozilla.org/ja/docs/Learn/JavaScript/Building_blocks/Events)  

#### Javascriptの適用方法
javascriptの記載方法も、cssと同じく３つあります。  

##### タグのイベント属性に直接指定する  
Htmlのイベントハンドラ属性に直接設定します。  
例  
```
<button onClick="alert(`サンプルです`)">クリック</button>
```

##### `<script>`タグの内部に記載する  

htmlの`<script>`タグ内に記載します。  
そこで定義した関数を、HTMLタグのイベントハンドラで指定できます。  

例  
```
<script>
  function myOnClick(){
    alert("サンプルです。")
  }
</script>

～～略～～

<button onClick="myOnClick">クリック</button>
```

##### 外部ファイルに記載し、`<script>`タグから参照する
CSSと同じように、javascriptもHtmlと別のファイルに定義できます。  
htmlの`<script>`タグの`src`属性でそのファイルのURLを指定すると、ブラウザがそのファイルを読み込み適用してくれます。 

・外部Javascript
myscript.js
```
function myOnClick(){
  alert("サンプルです。")
}
```

・HTML
```
<script src="http://～/myscript.js"></script>

～

<button onClick="myOnClick">クリック</button>
```


直接記述する方法だと記述箇所が増えた際に管理が大変になるため、外部ファイルとして定義する事も多いです。  

### Javascriptの仕様 
javascriptの仕様も標準化団体によって定められているのですが、以下の2つの仕様があります。  

1. javascript自体の言語仕様  
例えば変数やメソッドの定義の仕方などの基本的な部分の定義です。  
TC39という団体により定義されており、その仕様は[ECMAScript](https://tc39.es/ecma262/)と呼ばれています。  


1. Webブラウザ環境で実行する場合特有の機能の仕様  
html要素の操作など、ブラウザ環境で実行される場合限定の機能の仕様が定義されています。  
こちらはHtmlと同じ[Living Standard](https://html.spec.whatwg.org/)として作成されています。  


Javascriptをサーバーサイドで動かす場合もあるのですが(node.jsなどを利用)、その場合ブラウザ特有の機能は利用できません。    


### Html、Css、Javascriptのそれぞれの役割

html、css、javascriptの役割をまとめると以下になります。  
- Html  
Webサイトの構造（どこに何を表示するか）を定義します。  

- Css  
Webサイトのデザインを定義します。  

- Javascript  
Webサイトの振る舞いを定義します。  


### 外部ファイルの読み込み順  

css、javascriptをhtmlとは別ファイルとした場合、それぞれのファイル毎にHttpリクエストを発行します。  

htmlのタグにはCSSとJavaScriptファイルを読み込むためのタグが用意されています。  


以下のように処理されます。  

1. ブラウザがhtmlファイルを解析

1. htmlファイル内の`<style>`、`<script>`タグで外部ファイルが参照されていた場合、そのURLに対してHttpリクエストを発行し、外部ファイルを取得します。

1. 取得したcssファイル、scriptファイルを解析し、htmlに適用します。  


図


